<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Developing this package further • reschola</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Developing this package further">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">reschola</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.6.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/reschola.html">Get started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-how-to-s" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">How-to's</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-how-to-s">
<li><a class="dropdown-item" href="../articles/setup.html">Setup</a></li>
    <li><a class="dropdown-item" href="../articles/tips.html">Tips and tricks</a></li>
    <li><a class="dropdown-item" href="../articles/workflow.html">The Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/charts.html">Making charts</a></li>
    <li><a class="dropdown-item" href="../articles/meta.html">Keeping this package up to scratch</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">What's new</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/scholaempirica/reschola/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/scholaempirica/reschola/issues"><span class="fa fa-exclamation-circle fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Developing this package further</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/scholaempirica/reschola/blob/master/vignettes/meta.Rmd" class="external-link"><code>vignettes/meta.Rmd</code></a></small>
      <div class="d-none name"><code>meta.Rmd</code></div>
    </div>

    
    
<p>This package should be a living, evolving tool and a set of living
documents. This vignette describes how this package is being developed
and thus how it can be extended and updated.</p>
<div class="section level2">
<h2 id="development-process">Development process<a class="anchor" aria-label="anchor" href="#development-process"></a>
</h2>
<p>This package is being developed on Github using the workflow
suggested <a href="https://ropensci.org/technotes/2019/12/08/precompute-vignettes/" class="external-link">Hadley
Wickham’s R Packages book</a> and implemented by the <a href="https://github.com/r-lib/usethis" class="external-link"><code>usethis</code></a>
package.</p>
<p>The development roadmap is stored in a primitive form in <a href="https://github.com/scholaempirica/reschola/issues" class="external-link">Github
Issues</a>.</p>
<p>Releases (of the source package only) are made available in the
Relaeses part of Github, meaning a last stable release can be installed
using
e.g. <code>remotes::install_github("scholaempirica/reschola", ref = github_release())</code>
regardless of how messy the current state of the repository master
branch is.</p>
<p>Big changes or new features should be built in branches.</p>
<div class="section level3">
<h3 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a>
</h3>
<p>Try to use as few as is reasonable; avoid obscure ones. Prefer CRAN
releases.</p>
<p>Prefer versions where CRAN binaries are available for all
platforms.</p>
</div>
<div class="section level3">
<h3 id="quality-assurance">Quality assurance<a class="anchor" aria-label="anchor" href="#quality-assurance"></a>
</h3>
<p><a href="https://github.com/lorenzwalthert/precommit" class="external-link">Pre-commit
checks</a> are used to ensure that broken code is not committed.</p>
<div class="section level4">
<h4 id="checks-continuous-integration">Checks / Continuous integration<a class="anchor" aria-label="anchor" href="#checks-continuous-integration"></a>
</h4>
<p>Commits are only pushed when they pass local R CMD checks with no
errors or warnings. Checks are then run on Travis on an Ubuntu system as
part of building the website. For releases (e.g. v0.1.0) checks are run
on <a href="https://builder.r-hub.io/" class="external-link">r-hub</a>.</p>
<p>An exception to the automatic continuous integration and check
pipeline is the <code>chart.Rmd</code> vignette, which is prebuilt
locally using <code>vignettes/prebuild.r</code> from
<code>charts.Rmd.orig</code> to ensure fonts are used correctly. (The
approach is taken from ropensci as described in <a href="https://ropensci.org/technotes/2019/12/08/precompute-vignettes/" class="external-link">this
blog post</a> and applied in <a href="https://github.com/ropensci/eia/blob/master/vignettes/" class="external-link">this
package</a>)</p>
</div>
<div class="section level4">
<h4 id="test-coverage">Test coverage<a class="anchor" aria-label="anchor" href="#test-coverage"></a>
</h4>
<p>Currently no tests are included or test coverage tracked, but
vignettes are written so as to cover and implicitly test the basic
functionality of the package.</p>
</div>
</div>
<div class="section level3">
<h3 id="making-package-binaries-available">Making package binaries available<a class="anchor" aria-label="anchor" href="#making-package-binaries-available"></a>
</h3>
<p>MacOS and Windows binaries of stable (minor and patch, so X.Y.0 and
X.Y.Z where Z != 9000) releases are made available on the <a href="https://scholaempirica.github.io/drat" class="external-link">Schola drat</a> package
repository. This is done manually, using the
<code>ptrr::insert_package_into_drat()</code> utility in the
<code>ptrr</code> package but can be without it by downloading built
binaries output by r-hub and inserting them into the
<code>gh-pages</code> branch of the <code>drat</code> Github repository
using the <code>drat</code> package.</p>
<p>See installation instructions in README.md for how to install these
binaries.</p>
</div>
</div>
<div class="section level2">
<h2 id="online-documentation">Online documentation<a class="anchor" aria-label="anchor" href="#online-documentation"></a>
</h2>
<p>The continuous integration pipeline (Travis CI and Github Pages)
means that whenever code is pushed to Github, the documentation of the
package is converted to a website by the <code>pkgdown</code> package
and published on <a href="https://scholaempirica.github.io/reschola">scholaempirica.github.io/reschola</a>
via the <code>gh-pages</code> branch of the repository.</p>
</div>
<div class="section level2">
<h2 id="reusingreshaping-the-documentation">Reusing/reshaping the documentation<a class="anchor" aria-label="anchor" href="#reusingreshaping-the-documentation"></a>
</h2>
<div class="section level3">
<h3 id="making-changes">Making changes<a class="anchor" aria-label="anchor" href="#making-changes"></a>
</h3>
<p>In principle, small changes (e.g. correcting typos) can be made in
the web interface on Github by any member of the scholaempirica Github
team. This is done by going to the relevant file on Github, clicking the
pencil icon, and editing the text. When saving changes, Github prompts
you to make a commit, which triggers a rebuild and republish of the web
documentation.</p>
<p>Function documentation is contained in the functions’ R files in
<code>R/</code>, vignettes are in <code>/vignettes</code>. The
<code>charts.Rmd</code>/<code>charts.Rmd.orig</code> vignette requires
special treatment - see <a href="#checks-continuous-integration">above</a>.</p>
<p>Big changes should be done after cloning the repo and opening in
RStudio, ideally on a separate branch.</p>
</div>
<div class="section level3">
<h3 id="reusing">Reusing<a class="anchor" aria-label="anchor" href="#reusing"></a>
</h3>
<p>The vignettes are in principle Rmd files with a special YAML header
so can be reused and republished anywhere and in any format if
needed.</p>
</div>
</div>
<div class="section level2">
<h2 id="how-to-change-key-parts">How to change key parts<a class="anchor" aria-label="anchor" href="#how-to-change-key-parts"></a>
</h2>
<ul>
<li>word template styles: use Word to open and edit styles in
<code>template.docx</code> in
<code>inst/rmarkdown/templates/schola_*/resources/</code>
</li>
<li>text in articles/vignettes: <code>vignettes/*.Rmd</code>
</li>
<li>default content of Rmarkdown files created from
<code>reschola</code> templates:
<code>inst/rmarkdown/templates/schola_*/skeleton/skeleton.Rmd</code>
</li>
<li>Rmarkdown templates knitr param defaults: look at the
<code>base$knitr$opts_chunk</code> bits in
<code>R/rmarkdown_output.R</code>
</li>
<li>behaviour of project template:
<code>inst/rstudio/templates/project</code> and
<code>R/rstudio_project_bindings.R</code>; consult <a href="https://rstudio.github.io/rstudio-extensions/rstudio_project_templates.html" class="external-link uri">https://rstudio.github.io/rstudio-extensions/rstudio_project_templates.html</a>.
<code>inst/rstudio/templates/project/schola_project.dcf</code> sets up
the dialog and lists files which will be opened in the new project</li>
<li>text of function documentation: always next to each function in
<code>R/{function_name/group}.R</code>; consult <a href="https://r-pkgs.org/man.html" class="external-link uri">https://r-pkgs.org/man.html</a> on documenting things.</li>
<li>font defaults: look through <code>R/fonts.R</code>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="resources-and-acknowledgements">Resources and acknowledgements<a class="anchor" aria-label="anchor" href="#resources-and-acknowledgements"></a>
</h2>
<p>The package architecture and many components draw heavily on <a href="https://github.com/atlas-aai/ratlas" class="external-link"><code>ratlas</code></a> by
<span class="citation">@ratlas-aai</span>/<span class="citation">@wjakethompson</span> (Jake Thompson), and on <a href="https://github.com/hrbrmstr/hrbrthemes" class="external-link"><code>hrbrthemes</code></a>
by Bob Rudis (<span class="citation">@hrbrmstr</span>).</p>
<p>You can see Jake’s Rstudio::conf talk on <code>ratlas</code> at <a href="https://resources.rstudio.com/rstudio-conf-2020/branding-and-packaging-reports-with-r-markdown-jake-thompson" class="external-link uri">https://resources.rstudio.com/rstudio-conf-2020/branding-and-packaging-reports-with-r-markdown-jake-thompson</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Petr Bouchal, Jan Netík, SCHOLA EMPIRICA, z. s..</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
