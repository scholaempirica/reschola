<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="reschola">
<title>Developing this package further • reschola</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Developing this package further">
<meta property="og:description" content="reschola">
<meta property="og:image" content="https://scholaempirica.github.io/reschola/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">reschola</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/reschola.html">Get started</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-how-to-s">How-to's</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-how-to-s">
    <a class="dropdown-item" href="../articles/setup.html">Setup</a>
    <a class="dropdown-item" href="../articles/tips.html">Tips and tricks</a>
    <a class="dropdown-item" href="../articles/workflow.html">The Workflow</a>
    <a class="dropdown-item" href="../articles/charts.html">Making charts</a>
    <a class="dropdown-item" href="../articles/meta.html">Keeping this package up to scratch</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">What's new</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/scholaempirica/reschola/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/scholaempirica/reschola/issues">
    <span class="fa fa-exclamation-circle fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">
<script src="meta_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Developing this package further</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/scholaempirica/reschola/blob/HEAD/vignettes/meta.Rmd" class="external-link"><code>vignettes/meta.Rmd</code></a></small>
      <div class="d-none name"><code>meta.Rmd</code></div>
    </div>

    
    
<p>This package should be a living, evolving tool and a set of living documents. This vignette describes how this package is being developed and thus how it can be extended and updated.</p>
<div class="section level2">
<h2 id="development-process">Development process<a class="anchor" aria-label="anchor" href="#development-process"></a>
</h2>
<p>This package is being developed on Github using the workflow suggested <a href="https://ropensci.org/technotes/2019/12/08/precompute-vignettes/" class="external-link">Hadley Wickham’s R Packages book</a> and implemented by the <a href="https://github.com/r-lib/usethis" class="external-link"><code>usethis</code></a> package.</p>
<p>The development roadmap is stored in a primitive form in <a href="https://github.com/scholaempirica/reschola/issues" class="external-link">Github Issues</a>.</p>
<p>Releases (of the source package only) are made available in the Relaeses part of Github, meaning a last stable release can be installed using e.g. <code>remotes::install_github("scholaempirica/reschola", ref = github_release())</code> regardless of how messy the current state of the repository master branch is.</p>
<p>Big changes or new features should be built in branches.</p>
<div class="section level3">
<h3 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a>
</h3>
<p>Try to use as few as is reasonable; avoid obscure ones. Prefer CRAN releases.</p>
<p>Prefer versions where CRAN binaries are available for all platforms.</p>
</div>
<div class="section level3">
<h3 id="quality-assurance">Quality assurance<a class="anchor" aria-label="anchor" href="#quality-assurance"></a>
</h3>
<p><a href="https://github.com/lorenzwalthert/precommit" class="external-link">Pre-commit checks</a> are used to ensure that broken code is not committed.</p>
<div class="section level4">
<h4 id="checks-continuous-integration">Checks / Continuous integration<a class="anchor" aria-label="anchor" href="#checks-continuous-integration"></a>
</h4>
<p>Commits are only pushed when they pass local R CMD checks with no errors or warnings. Checks are then run on Travis on an Ubuntu system as part of building the website. For releases (e.g. v0.1.0) checks are run on <a href="https://builder.r-hub.io/" class="external-link">r-hub</a>.</p>
<p>An exception to the automatic continuous integration and check pipeline is the <code>chart.Rmd</code> vignette, which is prebuilt locally using <code>vignettes/prebuild.r</code> from <code>charts.Rmd.orig</code> to ensure fonts are used correctly. (The approach is taken from ropensci as described in <a href="https://ropensci.org/technotes/2019/12/08/precompute-vignettes/" class="external-link">this blog post</a> and applied in <a href="https://github.com/ropensci/eia/blob/master/vignettes/" class="external-link">this package</a>)</p>
</div>
<div class="section level4">
<h4 id="test-coverage">Test coverage<a class="anchor" aria-label="anchor" href="#test-coverage"></a>
</h4>
<p>Currently no tests are included or test coverage tracked, but vignettes are written so as to cover and implicitly test the basic functionality of the package.</p>
</div>
</div>
<div class="section level3">
<h3 id="making-package-binaries-available">Making package binaries available<a class="anchor" aria-label="anchor" href="#making-package-binaries-available"></a>
</h3>
<p>MacOS and Windows binaries of stable (minor and patch, so X.Y.0 and X.Y.Z where Z != 9000) releases are made available on the <a href="https://scholaempirica.github.io/drat" class="external-link">Schola drat</a> package repository. This is done manually, using the <code>ptrr::insert_package_into_drat()</code> utility in the <code>ptrr</code> package but can be without it by downloading built binaries output by r-hub and inserting them into the <code>gh-pages</code> branch of the <code>drat</code> Github repository using the <code>drat</code> package.</p>
<p>See installation instructions in README.md for how to install these binaries.</p>
</div>
</div>
<div class="section level2">
<h2 id="online-documentation">Online documentation<a class="anchor" aria-label="anchor" href="#online-documentation"></a>
</h2>
<p>The continuous integration pipeline (Travis CI and Github Pages) means that whenever code is pushed to Github, the documentation of the package is converted to a website by the <code>pkgdown</code> package and published on <a href="https://scholaempirica.github.io/reschola">scholaempirica.github.io/reschola</a> via the <code>gh-pages</code> branch of the repository.</p>
</div>
<div class="section level2">
<h2 id="reusingreshaping-the-documentation">Reusing/reshaping the documentation<a class="anchor" aria-label="anchor" href="#reusingreshaping-the-documentation"></a>
</h2>
<div class="section level3">
<h3 id="making-changes">Making changes<a class="anchor" aria-label="anchor" href="#making-changes"></a>
</h3>
<p>In principle, small changes (e.g. correcting typos) can be made in the web interface on Github by any member of the scholaempirica Github team. This is done by going to the relevant file on Github, clicking the pencil icon, and editing the text. When saving changes, Github prompts you to make a commit, which triggers a rebuild and republish of the web documentation.</p>
<p>Function documentation is contained in the functions’ R files in <code>R/</code>, vignettes are in <code>/vignettes</code>. The <code>charts.Rmd</code>/<code>charts.Rmd.orig</code> vignette requires special treatment - see <a href="#checks-continuous-integration">above</a>.</p>
<p>Big changes should be done after cloning the repo and opening in RStudio, ideally on a separate branch.</p>
</div>
<div class="section level3">
<h3 id="reusing">Reusing<a class="anchor" aria-label="anchor" href="#reusing"></a>
</h3>
<p>The vignettes are in principle Rmd files with a special YAML header so can be reused and republished anywhere and in any format if needed.</p>
</div>
</div>
<div class="section level2">
<h2 id="how-to-change-key-parts">How to change key parts<a class="anchor" aria-label="anchor" href="#how-to-change-key-parts"></a>
</h2>
<ul>
<li>word template styles: use Word to open and edit styles in <code>template.docx</code> in <code>inst/rmarkdown/templates/schola_*/resources/</code>
</li>
<li>text in articles/vignettes: <code>vignettes/*.Rmd</code>
</li>
<li>default content of Rmarkdown files created from <code>reschola</code> templates: <code>inst/rmarkdown/templates/schola_*/skeleton/skeleton.Rmd</code>
</li>
<li>Rmarkdown templates knitr param defaults: look at the <code>base$knitr$opts_chunk</code> bits in <code>R/rmarkdown_output.R</code>
</li>
<li>behaviour of project template: <code>inst/rstudio/templates/project</code> and <code>R/rstudio_project_bindings.R</code>; consult <a href="https://rstudio.github.io/rstudio-extensions/rstudio_project_templates.html" class="external-link uri">https://rstudio.github.io/rstudio-extensions/rstudio_project_templates.html</a>. <code>inst/rstudio/templates/project/schola_project.dcf</code> sets up the dialog and lists files which will be opened in the new project</li>
<li>text of function documentation: always next to each function in <code>R/{function_name/group}.R</code>; consult <a href="https://r-pkgs.org/man.html" class="external-link uri">https://r-pkgs.org/man.html</a> on documenting things.</li>
<li>font defaults: look through <code>R/fonts.R</code>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="resources-and-acknowledgements">Resources and acknowledgements<a class="anchor" aria-label="anchor" href="#resources-and-acknowledgements"></a>
</h2>
<p>The package architecture and many components draw heavily on <a href="https://github.com/atlas-aai/ratlas" class="external-link"><code>ratlas</code></a> by <span class="citation">@ratlas-aai</span>/<span class="citation">@wjakethompson</span> (Jake Thompson), and on <a href="https://github.com/hrbrmstr/hrbrthemes" class="external-link"><code>hrbrthemes</code></a> by Bob Rudis (<span class="citation">@hrbrmstr</span>).</p>
<p>You can see Jake’s Rstudio::conf talk on <code>ratlas</code> at <a href="https://resources.rstudio.com/rstudio-conf-2020/branding-and-packaging-reports-with-r-markdown-jake-thompson" class="external-link uri">https://resources.rstudio.com/rstudio-conf-2020/branding-and-packaging-reports-with-r-markdown-jake-thompson</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Petr Bouchal, Jan Netík, SCHOLA EMPIRICA, z. s..</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
