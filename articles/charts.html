<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Making charts • reschola</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Making charts">
<meta property="og:description" content="reschola">
<meta property="og:image" content="https://scholaempirica.github.io/reschola/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">reschola</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.7.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/reschola.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/setup.html">Getting everything ready for work</a>
    </li>
    <li>
      <a href="../articles/tips.html">Tips and Tricks for R and Rstudio</a>
    </li>
    <li>
      <a href="../articles/workflow.html">The Workflow</a>
    </li>
    <li>
      <a href="../articles/charts.html">Making charts</a>
    </li>
    <li>
      <a href="../articles/meta.html">Developing this package further</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/scholaempirica/reschola/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Making charts</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/scholaempirica/reschola/blob/master/vignettes/charts.Rmd"><code>vignettes/charts.Rmd</code></a></small>
      <div class="hidden name"><code>charts.Rmd</code></div>

    </div>

    
    
<p>NB: This vignette temporarily serves to test and fine-tune the <code><a href="../reference/theme_schola.html">theme_schola()</a></code> theme and to showcase typography.</p>
<p>This is a bit hacky so ignore font sizes and resolution, which can be handled better in normal Word or HTML output outside of package documentation.</p>
<p>When judging fonts, I would put quite a lot of emphasis on how they display figures, in particular whether the numerals have fixed width by default, meaning they align well: 99 is the same width as 11.</p>
<ul>
<li>Roboto Condensed, IBM Plex Sans, Titillium Sans and Econ Sans all do.</li>
<li>Roboto Condensed is nice in that it has a normal-width sibling, Roboto, which also has fixed-width figures. It is good to have the normal and condensed fonts when needed, e.g. the condensed works well for crowded axes or longer titles.</li>
<li>Arial Narrow is fine - you can then use Arial in you word output or generic sans in web output and they would be visually consistent with the charts. But it is not open license so we cannot include it in the package; anyone using the package would have to make sure they have it on their computer.</li>
<li>Open Sans, which your website uses, is fine and has good figures, but seems a bit too wide for charts.</li>
</ul>
<p>(If we are producing PNG figures, we don’t need to worry about which fonts the user of the report has installed on their computer).</p>
<div id="the-schola-ggplot2-theme" class="section level2">
<h2 class="hasAnchor">
<a href="#the-schola-ggplot2-theme" class="anchor"></a>The Schola ggplot2 theme</h2>
<p>First, let’s see the default plot, no theme</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="no">p</span> <span class="kw">&lt;-</span> <span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="kw">y</span> <span class="kw">=</span> <span class="no">class</span>)) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Count of numbers"</span>)
<span class="no">p</span></pre></body></html></div>
<p><img src="charts-no-theme-1.png" title="plot of chunk no-theme" alt="plot of chunk no-theme" width="504"></p>
<p>using <code><a href="../reference/theme_schola.html">theme_schola()</a></code> defaults</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">p</span> +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"x"</span>)</pre></body></html></div>
<p><img src="charts-schola-default-1.png" title="plot of chunk schola-default" alt="plot of chunk schola-default" width="504"></p>
<p>in combination with <code>flush_axis</code>, and using the Titillium Web font:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">p</span> +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"x"</span>, <span class="kw">family</span> <span class="kw">=</span> <span class="st">"Titillium Web"</span>, <span class="kw">title_family</span> <span class="kw">=</span> <span class="st">"Titillium Web"</span>) +
 <span class="fu">scale_x_continuous</span>(<span class="kw">expand</span> <span class="kw">=</span> <span class="no">flush_axis</span>)</pre></body></html></div>
<p><img src="charts-titillium-flush-1.png" title="plot of chunk titillium-flush" alt="plot of chunk titillium-flush" width="504"></p>
<p>Scatterplot, using yet another font</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>)) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>, <span class="kw">family</span> <span class="kw">=</span> <span class="st">"IBM Plex Sans"</span>, <span class="kw">title_family</span> <span class="kw">=</span> <span class="st">"IBM Plex Sans"</span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>)</pre></body></html></div>
<p><img src="charts-scatter-plexsans-1.png" title="plot of chunk scatter-plexsans" alt="plot of chunk scatter-plexsans" width="504"></p>
<p>Smaller text, flush plot alignment</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>), <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.2</span>) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>, <span class="kw">base_size</span> <span class="kw">=</span> <span class="fl">9</span>, <span class="kw">side_margin</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">family</span> <span class="kw">=</span> <span class="st">"IBM Plex Sans"</span>,
              <span class="kw">title_family</span> <span class="kw">=</span> <span class="st">"IBM Plex Sans"</span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>)</pre></body></html></div>
<p><img src="charts-scatter-plexsans-smaller-1.png" title="plot of chunk scatter-plexsans-smaller" alt="plot of chunk scatter-plexsans-smaller" width="504"></p>
<div id="override-defaults-changed-inside-theme_schola" class="section level3">
<h3 class="hasAnchor">
<a href="#override-defaults-changed-inside-theme_schola" class="anchor"></a>Override defaults changed inside <code>theme_schola()</code>
</h3>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>), <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.2</span>) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>, <span class="kw">base_size</span> <span class="kw">=</span> <span class="fl">12</span>, <span class="kw">side_margin</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">family</span> <span class="kw">=</span> <span class="st">"Roboto Condensed"</span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>) +
 <span class="fu">theme</span>(<span class="kw">panel.background</span> <span class="kw">=</span> <span class="fu">element_rect</span>(<span class="kw">fill</span> <span class="kw">=</span> <span class="st">"lightpink"</span>))</pre></body></html></div>
<p><img src="charts-scatter-defaultschanged-1.png" title="plot of chunk scatter-defaultschanged" alt="plot of chunk scatter-defaultschanged" width="504"></p>
</div>
<div id="small-mutliples" class="section level3">
<h3 class="hasAnchor">
<a href="#small-mutliples" class="anchor"></a>Small mutliples</h3>
<p>Smaller text, using Arial Narrow</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">p</span> +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"x"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">T</span>, <span class="kw">family</span> <span class="kw">=</span> <span class="st">"Arial Narrow"</span>, <span class="kw">title_family</span> <span class="kw">=</span> <span class="st">"Arial Narrow"</span>) +
 <span class="fu">scale_x_continuous</span>(<span class="kw">expand</span> <span class="kw">=</span> <span class="no">flush_axis</span>) +
 <span class="fu">facet_wrap</span>(~ <span class="no">manufacturer</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="charts-arial-narrow-1.png" title="plot of chunk arial-narrow" alt="plot of chunk arial-narrow" width="504"></p>
<p>Same without aesthetic adjustment for <code>facet_wrap()</code> and different font</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">p</span> +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"x"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">F</span>, <span class="kw">family</span> <span class="kw">=</span> <span class="st">"Public Sans"</span>, <span class="kw">title_family</span> <span class="kw">=</span> <span class="st">"Public Sans"</span>) +
 <span class="fu">scale_x_continuous</span>(<span class="kw">expand</span> <span class="kw">=</span> <span class="no">flush_axis</span>) +
 <span class="fu">facet_wrap</span>(~ <span class="no">manufacturer</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="charts-publicans-nomultiplot-1.png" title="plot of chunk publicans-nomultiplot" alt="plot of chunk publicans-nomultiplot" width="504"></p>
<p>Small mutliples scatter and make it look like The Economist</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>), <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.2</span>) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">T</span>, <span class="kw">family</span> <span class="kw">=</span> <span class="kw pkg">hrbrthemes</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/hrbrthemes/man/EconSansCondensed.html">font_es</a></span>,
              <span class="kw">title_family</span> <span class="kw">=</span> <span class="kw pkg">hrbrthemes</span><span class="kw ns">::</span><span class="no"><a href="https://rdrr.io/pkg/hrbrthemes/man/EconSansCondensed.html">font_es_bold</a></span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>) +
 <span class="fu">facet_wrap</span>(~ <span class="no">class</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="charts-economist-1.png" title="plot of chunk economist" alt="plot of chunk economist" width="504"></p>
<p>Small mutliples grid, using another font setup</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">p</span> +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"x"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">T</span>, <span class="kw">family</span> <span class="kw">=</span> <span class="st">"IBM Plex Sans Light"</span>,
              <span class="kw">title_family</span> <span class="kw">=</span> <span class="st">"IBM Plex Sans Bold"</span>) +
 <span class="fu">scale_x_continuous</span>(<span class="kw">expand</span> <span class="kw">=</span> <span class="no">flush_axis</span>) +
 <span class="fu">facet_grid</span>(<span class="no">cyl</span> ~ <span class="no">drv</span>)</pre></body></html></div>
<p><img src="charts-plexmix-1.png" title="plot of chunk plexmix" alt="plot of chunk plexmix" width="504"></p>
<p>Small mutliples scatter grid, using mix of Roboto fonts</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>), <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.2</span>) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">T</span>, <span class="kw">family</span> <span class="kw">=</span> <span class="st">"Roboto Condensed"</span>,
              <span class="kw">title_family</span> <span class="kw">=</span> <span class="st">"Roboto"</span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>) +
 <span class="fu">facet_grid</span>(<span class="no">cyl</span> ~ <span class="no">class</span>)</pre></body></html></div>
<p><img src="charts-robotomix-1.png" title="plot of chunk robotomix" alt="plot of chunk robotomix" width="504"></p>
<p>Same but without multiplot parameter</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>), <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.2</span>) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">F</span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>) +
 <span class="fu">facet_grid</span>(<span class="no">cyl</span> ~ <span class="no">class</span>)</pre></body></html></div>
<p><img src="charts-nomultiplot-1.png" title="plot of chunk nomultiplot" alt="plot of chunk nomultiplot" width="504"></p>
</div>
<div id="making-fonts-work-for-future-version-of-vignette" class="section level3">
<h3 class="hasAnchor">
<a href="#making-fonts-work-for-future-version-of-vignette" class="anchor"></a>Making fonts work [for future version of vignette]</h3>
<p>The <code>schola_theme()</code> is set to use the Roboto and Roboto Condensed font families by default. These may not be present on your system. You can install them by running <code><a href="../reference/import_fonts.html">reschola::import_fonts()</a></code>. (once per machine) On package load, these will be registered with R. If the fonts do not show up in your charts, run <code><a href="https://rdrr.io/pkg/extrafont/man/loadfonts.html">extrafont::loadfonts()</a></code> (once per session). You can also set the option <code>reschola.loadfonts</code> to have <code>reschola</code> register these fonts with the PDF/PostScript ecosystem upon package load.</p>
</div>
<div id="using-fonts" class="section level3">
<h3 class="hasAnchor">
<a href="#using-fonts" class="anchor"></a>Using fonts</h3>
<p>[ - width - figures]</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Petr Bouchal, Schola Empirica.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
