<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Making charts • reschola</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Making charts">
<meta property="og:description" content="reschola">
<meta property="og:image" content="https://scholaempirica.github.io/reschola/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">reschola</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.11</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/reschola.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    How-to's
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/setup.html">Setup</a>
    </li>
    <li>
      <a href="../articles/tips.html">Tips and tricks</a>
    </li>
    <li>
      <a href="../articles/workflow.html">The Workflow</a>
    </li>
    <li>
      <a href="../articles/charts.html">Making charts</a>
    </li>
    <li>
      <a href="../articles/meta.html">Keeping this package up to scratch</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">What's new</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/scholaempirica/reschola/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/scholaempirica/reschola/issues">
    <span class="fa fa-exclamation-circle fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Making charts</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/scholaempirica/reschola/blob/master/vignettes/charts.Rmd"><code>vignettes/charts.Rmd</code></a></small>
      <div class="hidden name"><code>charts.Rmd</code></div>

    </div>

    
    
<!-- Once done editing, rename this to charts.Rmd.orig -->
<!-- If you are editing charts.Rmd, stop and go to charts.Rmd.orig -->
<div id="reschola-and-charts" class="section level2">
<h2 class="hasAnchor">
<a href="#reschola-and-charts" class="anchor"></a><code>reschola</code> and charts</h2>
<p>This document assumes two things:</p>
<ul>
<li>charts are made in ggplot2</li>
<li>you have a fair understanding of ggplot2, so this is not a guide to using that package.</li>
</ul>
<p>It also does not reiterate the principles of data visualisation, though it does point to some resources in that vein.</p>
</div>
<div id="the-reschola-theme" class="section level2">
<h2 class="hasAnchor">
<a href="#the-reschola-theme" class="anchor"></a>The reschola theme</h2>
<div id="global-theme-setting" class="section level5 bs-callout bs-callout-blue">
<h5 class="hasAnchor">
<a href="#global-theme-setting" class="anchor"></a>Global theme setting</h5>
<p>You can set the theme for your whole Rmarkdown document (or session, for that matter) by putting <code>theme_set(theme_schola())</code>. Then you don’t need to add it to your plots. As <code><a href="../reference/theme_schola.html">theme_schola()</a></code> has parameters which you are likely to need, this seems impractical and anyway could be confusing.</p>
</div>
<div id="basic-usage-of-theme_schola" class="section level3">
<h3 class="hasAnchor">
<a href="#basic-usage-of-theme_schola" class="anchor"></a>Basic usage of <code>theme_schola()</code>
</h3>
<p><code>reschola</code> contains the <code><a href="../reference/theme_schola.html">theme_schola()</a></code> theme, which has</p>
<ul>
<li>sensible defaults so you are not forever changing the same parameters</li>
<li>some aesthetic choices custom for Schola Emppirica</li>
<li>good default fonts</li>
</ul>
<p>The examples below serve as (a) guide to the parameters of the theme, (b) test, and (c) showcase.</p>
<blockquote>
<p>Resolution and sizes can be off on this page. The templates contained in this package are optimised to produce great looking and properly sized charts in Word documents.</p>
</blockquote>
<p>First, let’s see the default plot, no theme</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="no">p</span> <span class="kw">&lt;-</span> <span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="kw">y</span> <span class="kw">=</span> <span class="no">class</span>)) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Count of numbers"</span>)
<span class="no">p</span></pre></body></html></div>
<p><img src="charts-no-theme-1.png" title="plot of chunk no-theme" alt="plot of chunk no-theme" width="100%"></p>
<p>Now let’s see what <code><a href="../reference/theme_schola.html">theme_schola()</a></code> defaults do</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">p</span> +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"x"</span>) <span class="co"># only setting the first parameter to get the right gridlines</span></pre></body></html></div>
<p><img src="charts-schola-default-1.png" title="plot of chunk schola-default" alt="plot of chunk schola-default" width="100%"></p>
<p>in combination with <code>flush_axis</code></p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">p</span> +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"x"</span>) +
 <span class="fu">scale_x_continuous</span>(<span class="kw">expand</span> <span class="kw">=</span> <span class="no">flush_axis</span>)</pre></body></html></div>
<p><img src="charts-flush-1.png" title="plot of chunk flush" alt="plot of chunk flush" width="100%"></p>
<p>Scatterplot</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>)) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>)</pre></body></html></div>
<p><img src="charts-scatter-1.png" title="plot of chunk scatter" alt="plot of chunk scatter" width="100%"></p>
<p>Smaller text, flush plot alignment</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>), <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.2</span>) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>, <span class="kw">base_size</span> <span class="kw">=</span> <span class="fl">9</span>, <span class="kw">margin_side</span> <span class="kw">=</span> <span class="fl">0</span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>)</pre></body></html></div>
<p><img src="charts-scatter-flush-1.png" title="plot of chunk scatter-flush" alt="plot of chunk scatter-flush" width="100%"></p>
<p>If you are adding a caption in your Rmarkdown chunk, you may also want <code>margin_bottom = 0</code> to cut the bottom margin in the plot and move the caption closer to the plot.</p>
<div id="override-defaults-changed-inside-theme_schola" class="section level4">
<h4 class="hasAnchor">
<a href="#override-defaults-changed-inside-theme_schola" class="anchor"></a>Override defaults changed inside <code>theme_schola()</code>
</h4>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>), <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.2</span>) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>, <span class="kw">base_size</span> <span class="kw">=</span> <span class="fl">12</span>, <span class="kw">margin_side</span> <span class="kw">=</span> <span class="fl">0</span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>) +
 <span class="fu">theme</span>(<span class="kw">panel.background</span> <span class="kw">=</span> <span class="fu">element_rect</span>(<span class="kw">fill</span> <span class="kw">=</span> <span class="st">"lightpink"</span>))</pre></body></html></div>
<p><img src="charts-scatter-defaultschanged-1.png" title="plot of chunk scatter-defaultschanged" alt="plot of chunk scatter-defaultschanged" width="100%"></p>
</div>
<div id="small-mutliples" class="section level4">
<h4 class="hasAnchor">
<a href="#small-mutliples" class="anchor"></a>Small mutliples</h4>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">p</span> +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"x"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">T</span>) +
 <span class="fu">scale_x_continuous</span>(<span class="kw">expand</span> <span class="kw">=</span> <span class="no">flush_axis</span>) +
 <span class="fu">facet_wrap</span>(~ <span class="no">manufacturer</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="charts-multiples-1.png" title="plot of chunk multiples" alt="plot of chunk multiples" width="100%"></p>
<p>Same without aesthetic adjustment for <code>facet_wrap()</code></p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">p</span> +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"x"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">F</span>) +
 <span class="fu">scale_x_continuous</span>(<span class="kw">expand</span> <span class="kw">=</span> <span class="no">flush_axis</span>) +
 <span class="fu">facet_wrap</span>(~ <span class="no">manufacturer</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="charts-multiples-nomultiplot-1.png" title="plot of chunk multiples-nomultiplot" alt="plot of chunk multiples-nomultiplot" width="100%"></p>
<p>Small mutliples scatter</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>), <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.2</span>) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">T</span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>) +
 <span class="fu">facet_wrap</span>(~ <span class="no">class</span>, <span class="kw">nrow</span> <span class="kw">=</span> <span class="fl">2</span>)</pre></body></html></div>
<p><img src="charts-multiples-scatter-1.png" title="plot of chunk multiples-scatter" alt="plot of chunk multiples-scatter" width="100%"></p>
<p>Small mutliples grid</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">p</span> +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"x"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">T</span>) +
 <span class="fu">scale_x_continuous</span>(<span class="kw">expand</span> <span class="kw">=</span> <span class="no">flush_axis</span>) +
 <span class="fu">facet_grid</span>(<span class="no">cyl</span> ~ <span class="no">drv</span>)</pre></body></html></div>
<p><img src="charts-multiples-grid-1.png" title="plot of chunk multiples-grid" alt="plot of chunk multiples-grid" width="100%"></p>
<p>Small mutliples scatter grid</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>), <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.2</span>) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">T</span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>) +
 <span class="fu">facet_grid</span>(<span class="no">cyl</span> ~ <span class="no">class</span>)</pre></body></html></div>
<p><img src="charts-multiples-scatter-grid-1.png" title="plot of chunk multiples-scatter-grid" alt="plot of chunk multiples-scatter-grid" width="100%"></p>
<p>Same but without multiplot parameter</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>) +
 <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="no">cty</span>, <span class="no">hwy</span>), <span class="kw">alpha</span> <span class="kw">=</span> <span class="fl">.2</span>) +
 <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>(<span class="st">"scatter"</span>, <span class="kw">multiplot</span> <span class="kw">=</span> <span class="no">F</span>) +
 <span class="fu">labs</span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">"Lots of cars"</span>, <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">"Point by point"</span>) +
 <span class="fu">facet_grid</span>(<span class="no">cyl</span> ~ <span class="no">class</span>)</pre></body></html></div>
<p><img src="charts-multiples-scatter-grid-nomultiplot-1.png" title="plot of chunk multiples-scatter-grid-nomultiplot" alt="plot of chunk multiples-scatter-grid-nomultiplot" width="100%"></p>
</div>
</div>
</div>
<div id="building-a-diverging-likert-plot" class="section level2">
<h2 class="hasAnchor">
<a href="#building-a-diverging-likert-plot" class="anchor"></a>Building a diverging Likert plot</h2>
<p>[To be completed once the function is in place]</p>
</div>
<div id="using-colour-scales" class="section level2">
<h2 class="hasAnchor">
<a href="#using-colour-scales" class="anchor"></a>Using colour scales</h2>
<p>[To be completed once the scales are in place]</p>
</div>
<div id="using-custom-numeric-scales" class="section level2">
<h2 class="hasAnchor">
<a href="#using-custom-numeric-scales" class="anchor"></a>Using custom numeric scales</h2>
<p>The chartb below illustrates the custom scales</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>, <span class="fu">aes</span>(<span class="no">hwy</span> * <span class="fl">100</span>, <span class="no">cty</span>/<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="no">cty</span>))) +
  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="kw">colour</span> <span class="kw">=</span> <span class="no">cty</span>/<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="no">cty</span>), <span class="kw">size</span> <span class="kw">=</span> <span class="no">hwy</span>*<span class="fl">100</span>)) +
  <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>() +
  <span class="fu"><a href="../reference/scalescz.html">scale_y_percent_cz</a></span>() +
  <span class="fu"><a href="../reference/scalescz.html">scale_x_number_cz</a></span>() +
  <span class="fu">scale_color_binned</span>(<span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="../reference/formatscz.html">label_percent_cz</a></span>()) +
  <span class="fu">scale_size_binned</span>(<span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="../reference/formatscz.html">label_number_cz</a></span>())</pre></body></html></div>
<p><img src="charts-scales-1.png" title="plot of chunk scales" alt="plot of chunk scales" width="100%"> The percent formatter and number formatter also handle the decimal mark correctly. The parameters which you would normally find inside the <code>scales::format_*()</code> functions are accessible directly in the <code>scale_[xy]_continuous()</code> functions.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>, <span class="fu">aes</span>(<span class="no">hwy</span> / <span class="fl">100</span>, <span class="no">cty</span>/<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="no">cty</span>)/<span class="fl">100</span>)) +
  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="kw">colour</span> <span class="kw">=</span> <span class="no">cty</span>/<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="no">cty</span>), <span class="kw">size</span> <span class="kw">=</span> <span class="no">hwy</span>*<span class="fl">100</span>)) +
  <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>() +
  <span class="fu"><a href="../reference/scalescz.html">scale_y_percent_cz</a></span>(<span class="kw">accuracy</span> <span class="kw">=</span> <span class="fl">.1</span>) +
  <span class="fu"><a href="../reference/scalescz.html">scale_x_number_cz</a></span>(<span class="kw">accuracy</span> <span class="kw">=</span> <span class="fl">.1</span>) +
  <span class="fu">scale_color_binned</span>(<span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="../reference/formatscz.html">label_percent_cz</a></span>(<span class="kw">accuracy</span> <span class="kw">=</span> <span class="fl">.1</span>)) +
  <span class="fu">scale_size_binned</span>(<span class="kw">labels</span> <span class="kw">=</span> <span class="fu"><a href="../reference/formatscz.html">label_number_cz</a></span>(<span class="kw">accuracy</span> <span class="kw">=</span> <span class="fl">0.1</span>))</pre></body></html></div>
<p><img src="charts-scales-decimal-1.png" title="plot of chunk scales-decimal" alt="plot of chunk scales-decimal" width="100%"></p>
<p>An English-locale version would look like this, using functions in <code>scales</code> or reexported from <code>hrbrthemes</code>:</p>
<div class="sourceCode" id="cb15"><html><body><pre class="r"><span class="fu">ggplot</span>(<span class="no">mpg</span>, <span class="fu">aes</span>(<span class="no">hwy</span> * <span class="fl">100</span>, <span class="no">cty</span>/<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="no">cty</span>))) +
  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="kw">colour</span> <span class="kw">=</span> <span class="no">cty</span>/<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="no">cty</span>), <span class="kw">size</span> <span class="kw">=</span> <span class="no">hwy</span>*<span class="fl">100</span>)) +
  <span class="fu"><a href="../reference/theme_schola.html">theme_schola</a></span>() +
  <span class="fu"><a href="https://rdrr.io/pkg/hrbrthemes/man/scale_x_percent.html">scale_y_percent</a></span>(<span class="kw">accuracy</span> <span class="kw">=</span> <span class="fl">.1</span>) +
  <span class="fu"><a href="https://rdrr.io/pkg/hrbrthemes/man/scale_x_percent.html">scale_x_comma</a></span>(<span class="kw">accuracy</span> <span class="kw">=</span> <span class="fl">.1</span>) +
  <span class="fu">scale_color_binned</span>(<span class="kw">labels</span> <span class="kw">=</span> <span class="kw pkg">scales</span><span class="kw ns">::</span><span class="fu"><a href="https://scales.r-lib.org//reference/label_percent.html">label_percent</a></span>(<span class="kw">accuracy</span> <span class="kw">=</span> <span class="fl">.1</span>)) +
  <span class="fu">scale_size_binned</span>(<span class="kw">labels</span> <span class="kw">=</span> <span class="kw pkg">scales</span><span class="kw ns">::</span><span class="fu"><a href="https://scales.r-lib.org//reference/label_number.html">label_number</a></span>(<span class="kw">accuracy</span> <span class="kw">=</span> <span class="fl">.1</span>))</pre></body></html></div>
<p><img src="charts-scales-en-1.png" title="plot of chunk scales-en" alt="plot of chunk scales-en" width="100%"></p>
</div>
<div id="making-fonts-work" class="section level2">
<h2 class="hasAnchor">
<a href="#making-fonts-work" class="anchor"></a>Making fonts work</h2>
<p>The <code>schola_theme()</code> is set to use the Roboto and Roboto Condensed font families by default. These may not be present on your system. You can install them by running <code><a href="../reference/import_fonts.html">reschola::import_fonts()</a></code>. (once per machine, and do follow the instructions in the message output when you call this function.) On package load, these will be registered with R. If the fonts do not show up in your charts, run <code><a href="https://rdrr.io/pkg/extrafont/man/loadfonts.html">extrafont::loadfonts()</a></code> (once per session). You can also set the option <code>reschola.loadfonts</code> to have <code>reschola</code> register these fonts with the PDF/PostScript ecosystem upon package load.</p>
</div>
<div id="using-fonts" class="section level2">
<h2 class="hasAnchor">
<a href="#using-fonts" class="anchor"></a>Using fonts</h2>
<p>If you end up using different fonts, it is good to choose something that (a) has fixed-width figures in the default set of characters, and (b) has sensible widths or a narrow-width member of the type family (usually called “Condensed”, “Narrow” or some such.)</p>
<p>The <code>hrbrthemes</code> package has a good range of fonts, some of which tick these criteria. Arial Narrow is narrow and has fixed-width figures. IBM Plex Sans, Titillium Sans and Econ Sans all have fixed width figures but not all have Narrow companions.</p>
<p>Public Sans does not have fixed-width figures.</p>
<p>See the <a href="https://cran.r-project.org/web/packages/hrbrthemes/vignettes/why_hrbrthemes.html#kern-what">hrbrthemes vignette</a> for an explanation of why these criteria matter</p>
</div>
<div id="tricks-of-the-trade-for-ggplot2" class="section level2">
<h2 class="hasAnchor">
<a href="#tricks-of-the-trade-for-ggplot2" class="anchor"></a>Tricks of the trade for ggplot2</h2>
<ul>
<li>
<code>theme_void()</code> for visuals that don’t need any gridlines, axes, etc., such as schematic maps</li>
<li>aes(…, group = 1) for making all data points in a <code>geom_line()</code> into one line</li>
<li>
<code>key_glyph</code> parameter to geoms to pick a specific shape for the legend key</li>
<li>
<code>geom_sf_label</code> for intelligently labelling spatial features plotted through <code>geom_sf()</code>
</li>
<li>
<code>labs(colour = NULL)</code> for switching off the colour legend, <code>labs(x = NULL)</code> to turn off colour label - quicker than <code>theme(axis.label.x = element_blank())</code> and <code>guides(colour = "none")</code>
</li>
</ul>
</div>
<div id="resources-on-good-practice" class="section level2">
<h2 class="hasAnchor">
<a href="#resources-on-good-practice" class="anchor"></a>Resources on good practice</h2>
<p>Kieran Healy. <a href="http://socviz.co">Data Visualisation: a practical introduction</a>. With R code.</p>
<p>Claus Wilke. <a href="https://serialmentor.com/dataviz/">Fundamentals of Data Visualisation</a> No R code, very strong on principles.</p>
<p>Beyond that and in the world of paper books, anything by Alberto Cairo is solid.</p>
</div>
<div id="handy-or-just-cool-ggplot2-extensions" class="section level2">
<h2 class="hasAnchor">
<a href="#handy-or-just-cool-ggplot2-extensions" class="anchor"></a>Handy (or just cool) ggplot2 extensions</h2>
<div id="crucial" class="section level3">
<h3 class="hasAnchor">
<a href="#crucial" class="anchor"></a>Crucial</h3>
<ul>
<li>
<code>patchwork</code> for combining multiple plots into one in a simple, intuitive way, while merging legends and aligning everyhing as needed</li>
<li>
<code>ggraph</code> in combination with <code>tidygraph</code> for network data</li>
<li>
<code>ggcorr</code> for correlation matrices</li>
<li>
<code>GGally</code> with a set of utilities, incl. <code>GGally::ggpairs()</code>
</li>
<li>
<code>sjPlot</code> also provides useful visual forms, most usefully the visual and tabular summaries of model results</li>
</ul>
</div>
<div id="useful" class="section level3">
<h3 class="hasAnchor">
<a href="#useful" class="anchor"></a>Useful</h3>
<ul>
<li>
<code>ggtext</code> for formatting pretty much any text in a ggplot using Markdown/HTML</li>
<li>
<code>ggiraph</code> for basic web interactivity</li>
<li>
<code>ggforce</code> for cool annotation</li>
<li>
<code>ggrepel</code> for handling overlapping labels</li>
<li>
<code>gghighlight</code> for highlighting individual points/series</li>
<li>
<code>ggmosaic</code> for mosaic plots</li>
<li>
<code>ggalluvial</code> for Sankey diagrams</li>
<li>
<code>waffle</code> for waffle (square pie) charts incl Isotype-style charts using icons</li>
</ul>
</div>
<div id="fun" class="section level3">
<h3 class="hasAnchor">
<a href="#fun" class="anchor"></a>Fun</h3>
<ul>
<li>
<code>ggchiclet</code> for rounded bars</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Petr Bouchal, Schola Empirica.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.9000.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '273d98fffff3ca7ed9727d978a8645c1',
    indexName: 'reschola',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
