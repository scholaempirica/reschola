<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Standardize Date Variables in LimeSurvey Data — ls_standardize_dates • reschola</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Standardize Date Variables in LimeSurvey Data — ls_standardize_dates"><meta name="description" content="Standardize Date Variables in LimeSurvey Data"><meta property="og:description" content="Standardize Date Variables in LimeSurvey Data"><meta property="og:image" content="https://scholaempirica.github.io/reschola/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">reschola</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.6.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/reschola.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-how-to-s" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">How-to's</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-how-to-s"><li><a class="dropdown-item" href="../articles/setup.html">Setup</a></li>
    <li><a class="dropdown-item" href="../articles/tips.html">Tips and tricks</a></li>
    <li><a class="dropdown-item" href="../articles/workflow.html">The Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/charts.html">Making charts</a></li>
    <li><a class="dropdown-item" href="../articles/meta.html">Keeping this package up to scratch</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">What's new</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/scholaempirica/reschola/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/scholaempirica/reschola/issues"><span class="fa fa-exclamation-circle fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Standardize Date Variables in LimeSurvey Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/scholaempirica/reschola/blob/master/R/limesurvey.R" class="external-link"><code>R/limesurvey.R</code></a></small>
      <div class="d-none name"><code>ls_standardize_dates.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Standardize Date Variables in LimeSurvey Data</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ls_standardize_dates</span><span class="op">(</span></span>
<span>  <span class="va">.data</span>,</span>
<span>  date_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"completed"</span>, <span class="st">"sent"</span>, <span class="st">"submitdate"</span>, <span class="st">"startdate"</span>, <span class="st">"datestamp"</span><span class="op">)</span>,</span>
<span>  as_na <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">""</span>, <span class="st">"N"</span>, <span class="st">"Y"</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--data">.data<a class="anchor" aria-label="anchor" href="#arg--data"></a></dt>
<dd><p><em>tibble</em>, data frame with LimeSurvey data.</p></dd>


<dt id="arg-date-cols">date_cols<a class="anchor" aria-label="anchor" href="#arg-date-cols"></a></dt>
<dd><p><em>character</em>, names of date columns to be standardized.</p></dd>


<dt id="arg-as-na">as_na<a class="anchor" aria-label="anchor" href="#arg-as-na"></a></dt>
<dd><p><em>character</em>, values to be coerced to <code>NA</code> (default to <code>c("", "N", "Y")</code>).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed on to <code><a href="https://lubridate.tidyverse.org/reference/parse_date_time.html" class="external-link">lubridate::parse_date_time</a></code></p><dl><dt><code>orders</code></dt>
<dd><p>a character vector of date-time formats. Each order string is
a series of formatting characters as listed in <code><a href="https://rdrr.io/r/base/strptime.html" class="external-link">base::strptime()</a></code> but
might not include the <code>"%"</code> prefix. For example, "ymd" will match all the
possible dates in year, month, day order. Formatting orders might include
arbitrary separators. These are discarded. See details for the implemented
formats. If multiple order strings are supplied, they are applied in turn
for <code>parse_date_time2()</code> and <code>fast_strptime()</code>. For <code>parse_date_time()</code>
the order of applied formats is determined by <code>select_formats</code> parameter.</p></dd>

    <dt><code>tz</code></dt>
<dd><p>a character string that specifies the time zone with which to
parse the dates</p></dd>

    <dt><code>truncated</code></dt>
<dd><p>integer, number of formats that can be missing. The most
common type of irregularity in date-time data is the truncation due to
rounding or unavailability of the time stamp. If the <code>truncated</code> parameter
is non-zero <code>parse_date_time()</code> also checks for truncated formats. For
example,  if the format order is "ymdHMS" and <code>truncated = 3</code>,
<code>parse_date_time()</code> will correctly parse incomplete date-times like
<code>2012-06-01 12:23</code>, <code>2012-06-01 12</code> and <code>2012-06-01</code>. <b>NOTE:</b> The
<code>ymd()</code> family of functions is based on <code><a href="https://rdrr.io/r/base/strptime.html" class="external-link">base::strptime()</a></code> which currently
fails to parse <code>%Y-%m</code> formats.</p></dd>

    <dt><code>quiet</code></dt>
<dd><p>logical. If <code>TRUE</code>, progress messages are not printed, and <code>No formats found</code> error is suppressed and the function simply returns a
vector of NAs.  This mirrors the behavior of base R functions
<code><a href="https://rdrr.io/r/base/strptime.html" class="external-link">base::strptime()</a></code> and <code><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">base::as.POSIXct()</a></code>.</p></dd>

    <dt><code>locale</code></dt>
<dd><p>locale to be used, see <a href="https://rdrr.io/r/base/locales.html" class="external-link">locales</a>. On Linux systems you
can use <code>system("locale -a")</code> to list all the installed locales.</p></dd>

    <dt><code>select_formats</code></dt>
<dd><p>A function to select actual formats for parsing from a
set of formats which matched a training subset of <code>x</code>. It receives a named
integer vector and returns a character vector of selected formats. Names
of the input vector are formats (not orders) that matched the training
set. Numeric values are the number of dates (in the training set) that
matched the corresponding format. You should use this argument if the
default selection method fails to select the formats in the right
order. By default the formats with most formatting tokens (<code>%</code>) are
selected and <code>%Y</code> counts as 2.5 tokens (so that it has a priority over
<code>%y%m</code>). See examples.</p></dd>

    <dt><code>exact</code></dt>
<dd><p>logical. If <code>TRUE</code>, the <code>orders</code> parameter is interpreted as an
exact <code><a href="https://rdrr.io/r/base/strptime.html" class="external-link">base::strptime()</a></code> format and no training or guessing are performed
(i.e. <code>train</code>, <code>drop</code> parameters are ignored).</p></dd>

    <dt><code>train</code></dt>
<dd><p>logical, default <code>TRUE</code>. Whether to train formats on a subset of the
input vector. As a result the supplied orders are sorted according to performance
on this training set, which commonly results in increased performance. Please note
that even when <code>train = FALSE</code> (and <code>exact = FALSE</code>) guessing of the actual
formats is still performed on the training set (a pseudo-random subset of the
original input vector). This might result in <code>All formats failed to parse</code>
error. See notes below.</p></dd>

    <dt><code>drop</code></dt>
<dd><p>logical, default <code>FALSE</code>. Whether to drop formats that didn't
match on the training set. If <code>FALSE</code>, unmatched on the training set
formats are tried as a last resort at the end of the parsing
queue. Applies only when <code>train = TRUE</code>. Setting this parameter to <code>TRUE</code>
might slightly speed up parsing in situations involving many
formats. Prior to v1.7.0 this parameter was implicitly <code>TRUE</code>, which
resulted in occasional surprising behavior when rare patterns where not
present in the training set.</p></dd>


</dl></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble with standardized date variables.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Petr Bouchal, Jan Netík, SCHOLA EMPIRICA, z. s..</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

